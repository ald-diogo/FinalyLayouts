@page "/Admin/VerRelatorioDesempenhoFuncionario"

@using MudBlazor

<PageTitle>Relatório de Performance</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large">
    <!-- Título da Página -->
    <MudText
        Color="Color.Primary"
        Typo="Typo.h4"
        Align="Align.Center"
        GutterBottom="true"
        Style="color: #2F4F4F; font-size: 32px;">
        Relatório de Performance do Hotel
    </MudText>

    <!-- Relatório Geral -->
    <MudGrid Spacing="2">
        <MudItem xs="12" md="4">
            <MudCard Class="mud-elevation-5" Style="background-color: #F3F4F6; border-radius: 15px;">
                <MudCardContent>
                    <MudText
                        Typo="Typo.h6"
                        GutterBottom="true"
                        Class="mud-text-center"
                        Style="color: #3B3A36;">
                        Número Total de Reservas
                    </MudText>

                    <MudText
                        Typo="Typo.h4"
                        Align="Align.Center"
                        Style="font-weight: bold; color: #3C9D9B;">
                        500
                    </MudText>

                    <MudIcon  Color="Color.Primary" Style="font-size: 48px; text-align: center;" />

                    <!-- Conteúdo promocional -->
                    <MudDivider Style="margin-top: 20px; margin-bottom: 10px;" />
                    <MudText
                        Typo="Typo.body2"
                        Align="Align.Center"
                        Style="color: #7D7D7D; font-style: italic;">
                        Aproveite a nossa promoção exclusiva!
                        <br />
                        Reservas feitas agora recebem um desconto de 10%!
                        Não perca!
                    </MudText>

                    <MudButton
                        Href="/Admin/Reservar"
                        Variant="Variant.Filled"
                        Color="Color.Secondary"
                        Style="width: 100%; margin-top: 10px;">
                        Faça sua reserva agora
                    </MudButton>
                </MudCardContent>
            </MudCard>
        </MudItem>


        <MudItem xs="12" md="4">
            <MudCard Class="mud-elevation-5" Style="background-color: #F3F4F6; border-radius: 15px;">
                <MudCardContent>
                    <MudText
                        Typo="Typo.h6"
                        GutterBottom="true"
                        Class="mud-text-center"
                        Style="color: #3B3A36;">
                        Taxa de Ocupação
                    </MudText>

                    <MudText
                        Typo="Typo.h4"
                        Align="Align.Center"
                        Style="font-weight: bold; color: #FF6347;">
                        85%
                    </MudText>

                    <MudIcon Color="Color.Primary" Style="font-size: 48px; text-align: center;" />

                    <!-- Conteúdo promocional -->
                    <MudDivider Style="margin-top: 20px; margin-bottom: 10px;" />
                    <MudText
                        Typo="Typo.body2"
                        Align="Align.Center"
                        Style="color: #7D7D7D; font-style: italic;">
                        Não perca a oportunidade de garantir seu lugar!
                        <br />
                        Estamos com uma taxa de ocupação de 85% — vagas limitadas!
                    </MudText>

                    <MudButton
                        Href="/Admin/Reservar"
                        Variant="Variant.Filled"
                        Color="Color.Secondary"
                        Style="width: 100%; margin-top: 10px;">
                        Reserve Agora
                    </MudButton>
                </MudCardContent>
            </MudCard>
        </MudItem>


        <MudItem xs="12" md="4">
            <MudCard Class="mud-elevation-5" Style="background-color: #F3F4F6; border-radius: 15px;">
                <MudCardContent>
                    <MudText
                        Typo="Typo.h6"
                        GutterBottom="true"
                        Class="mud-text-center"
                        Style="color: #3B3A36; font-weight: 600;">
                        Receita Bruta
                    </MudText>

                    <MudText
                        Typo="Typo.h4"
                        Align="Align.Center"
                        Style="font-weight: bold; color: #32CD32; transition: color 0.3s ease;">
                        R$ 150.000
                    </MudText>

                    <MudIcon Color="Color.Primary" Style="font-size: 48px; text-align: center; transition: transform 0.3s ease;" />

                    <!-- Conteúdo interativo -->
                    <MudDivider Style="margin-top: 20px; margin-bottom: 10px;" />
                    <MudText
                        Typo="Typo.body2"
                        Align="Align.Center"
                        Style="color: #7D7D7D; font-style: italic; transition: opacity 0.5s ease-in-out;">
                    </MudText>


                    <MudButton
                        Variant="Variant.Filled"
                        Color="Color.Secondary"
                        Style="width: 100%; margin-top: 15px; background-color: #FF6347; transition: transform 0.3s ease; border-radius: 25px;"
                        >
                        Junte-se a nós para aumentar ainda mais!
                    </MudButton>

                    <!-- Animação interativa -->
                    <MudText
                        Typo="Typo.body2"
                        Align="Align.Center"
                        Style="color: #3B3A36; margin-top: 10px; cursor: pointer; font-weight: 600; text-decoration: underline;">
                        <a href="/Admin/Sobre" style="color: #007BFF; text-decoration: none;">
                            Saiba mais sobre como contribuir.
                            A sua contribuição é fundamental para esse resultado.
                            <br />
                            Se cada pessoa continuar com seu compromisso, podemos alcançar muito mais!
                            <br />
                            Quer saber como ajudar? Clique aqui para mais informações!
                        </a>
                    </MudText>
                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>

    <!-- Gráficos de Performance -->
    <MudGrid Spacing="3">
        <MudItem xs="12" md="6">
            <MudCard Class="mud-elevation-10" Style="border-radius: 15px; background-color: #E8F5E9;">
                <MudCardContent>
                    <MudText
                        Typo="Typo.h6"
                        GutterBottom="true"
                        Align="Align.Center"
                        Style="color: #1B5E20; font-weight: bold; font-size: 24px; transition: transform 0.3s ease; cursor: pointer;"
                        >
                        Taxa de Ocupação - Evolução
                    </MudText>

                    <MudText
                        Typo="Typo.body1"
                        Align="Align.Center"
                        Style="color: #1B5E20; margin-top: 10px; font-size: 16px;">
                        Acompanhe a evolução da taxa de ocupação em tempo real! Verifique como os dados estão mudando, e entenda melhor o desempenho.
                        <span style="color: #388E3C; font-weight: bold;">Seja informado e tome decisões mais assertivas!</span>
                    </MudText>

                    <!-- Animação de Barra de Progresso -->
                    <MudProgressLinear Color="Color.Success" Striped="true" Size="Size.Large" Value="75" Class="my-7" />

                    <!-- Conteúdo publicitário de call-to-action -->
                    <div style="text-align: center; margin-top: 20px;">
                        <MudButton
                            Variant="Variant.Filled"
                            Color="Color.Primary"
                            Style="font-size: 18px; padding: 10px 20px; transition: background-color 0.3s ease;"
                            >
                            Saiba Mais
                        </MudButton>
                    </div>


                    <MudChart 
                        ChartType="ChartType.Line"
                        Data="occupancyData" 
                        Options="occupancyChartOptions"
                        Style="transition: all 1s ease;" />
                </MudCardContent>
            </MudCard>
        </MudItem>
        
        <MudItem xs="12" md="6">
            <MudCard Class="mud-elevation-10" Style="border-radius: 15px; background-color: #FFEBEE;">
                <MudCardContent>
                    <MudText
                        Typo="Typo.h6"
                        GutterBottom="true"
                        Align="Align.Center"
                        Style="color: #C2185B; font-family: 'Roboto', sans-serif; font-weight: bold; animation: fadeIn 2s ease-in-out;"
                        class="highlight-text"
                    >
                        <span>Receita por Canal de Venda</span>
                        <div class="text-tooltip">
                            <p><strong>Explore mais sobre cada canal!</strong></p>
                            <p>Descubra as estratégias e as melhores práticas para aumentar suas vendas de forma personalizada.</p>
                        </div>
                    </MudText>
                    

                    <MudChart 
                        ChartType="ChartType.Pie" 
                        Data="revenueByChannelData"
                        Options="revenueByChannelChartOptions" 
                        Style="transition: all 1s ease;" />
                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>

    <!-- Desempenho por Canal de Venda -->
    <MudCard Class="mud-elevation-5" Style="border-radius: 15px; background-color: #FFFAF0;">
        <MudCardContent>
            <MudText
                Typo="Typo.h6"
                GutterBottom="true"
                Style="color: #1A237E;">
                Desempenho por Canal de Venda
            </MudText>
            
            <MudTable Items="channels" Hover="true">
                <HeaderContent>
                    <MudTh>Canal</MudTh>
                    <MudTh>Reservas</MudTh>
                    <MudTh>Receita</MudTh>
                </HeaderContent>
                
                <RowTemplate>
                    <MudTd DataLabel="Canal">@context.Channel</MudTd>
                    <MudTd DataLabel="Reservas">@context.Reservas</MudTd>
                    <MudTd DataLabel="Receita">@context.Receita</MudTd>
                </RowTemplate>
            </MudTable>
        </MudCardContent>
    </MudCard>

    <!-- Tabela de Feedback dos Hóspedes -->
    <MudCard Class="mud-elevation-5" Style="border-radius: 15px; background-color: #FFF3E0;">
        <MudCardContent>
            <MudText Typo="Typo.h6" GutterBottom="true" Style="color: #D32F2F;">Feedback dos Hóspedes</MudText>
            <MudTable Items="feedbacks" Hover="true">
                <HeaderContent>
                    <MudTh>Hóspede</MudTh>
                    <MudTh>Avaliação</MudTh>
                    <MudTh>Comentário</MudTh>
                </HeaderContent>
                
                <RowTemplate>
                    <MudTd DataLabel="Hóspede">@context.Nome</MudTd>
                    <MudTd DataLabel="Avaliação">@context.Avaliacao</MudTd>
                    <MudTd DataLabel="Comentário">@context.Comentario</MudTd>
                </RowTemplate>
            </MudTable>
        </MudCardContent>
    </MudCard>

</MudContainer>

@code {
    private List<ChartData> occupancyData = new List<ChartData>
    {
        new ChartData { Label = "Jan", Value = 75 },
        new ChartData { Label = "Fev", Value = 85 },
        new ChartData { Label = "Mar", Value = 90 },
        new ChartData { Label = "Abr", Value = 80 }
    };

    private List<ChartData> revenueByChannelData = new List<ChartData>
    {
        new ChartData { Label = "Site Próprio", Value = 70000 },
        new ChartData { Label = "OTAs", Value = 50000 },
        new ChartData { Label = "Agentes de Viagem", Value = 30000 }
    };

    private List<ChannelPerformance> channels = new List<ChannelPerformance>
    {
        new ChannelPerformance { Channel = "Site Próprio", Reservas = 150, Receita = "R$ 70.000" },
        new ChannelPerformance { Channel = "Booking", Reservas = 120, Receita = "R$ 50.000" },
        new ChannelPerformance { Channel = "Expedia", Reservas = 80, Receita = "R$ 30.000" }
    };

    private List<GuestFeedback> feedbacks = new List<GuestFeedback>
    {
        new GuestFeedback { Nome = "João Silva", Avaliacao = 4.5, Comentario = "Excelente estadia!" },
        new GuestFeedback { Nome = "Maria Oliveira", Avaliacao = 3.8, Comentario = "Bom, mas pode melhorar." }
    };

    public class ChannelPerformance
    {
        public string Channel { get; set; }
        public int Reservas { get; set; }
        public string Receita { get; set; }
    }

    public class GuestFeedback
    {
        public string Nome { get; set; }
        public double Avaliacao { get; set; }
        public string Comentario { get; set; }
    }

    public class ChartData
    {
        public string Label { get; set; }
        public double Value { get; set; }
    }

   

}

