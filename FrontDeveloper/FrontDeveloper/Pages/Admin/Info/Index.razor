@page "/Admin/Index"
@using MudBlazor

@layout MainLayout

@inject ISnackbar Snackbar
@inject NavigationManager Navigation

<MudLayout>
    <MudAppBar Color="Color.Primary" Elevation="4">
        <MudText Typo="Typo.h6" Color="Color.Inherit">Sistema de Gestão Academica!</MudText>
        <MudSpacer />
        <MudButton
            Href="/Admin/Login"
            Color="Color.Inherit"
            Variant="Variant.Text"
            @onclick="NavigateToLogin">
            <MudIconButton Icon="@Icons.Material.Filled.Login" Color="Color.Success" />
            Login
        </MudButton>
    </MudAppBar>

    <MudMainContent>
        <MudContainer>
            <MudGrid>
                <MudItem xs="12" sm="6">
                    <MudPaper Elevation="4" Square="true" Class="pa-4">
                        <MudText Typo="Typo.h4" Align="Align.Center">
                            Bem-vindo(a) ao Sistema de Gestão Academica!
                        </MudText>
                        <MudText Typo="Typo.body1" Align="Align.Center" Class="mt-3">
                            Realize sua matrícula de forma rápida e fácil, com uma ampla gama de cursos disponíveis para o seu desenvolvimento acadêmico.
                        </MudText>
                    </MudPaper>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudPaper Elevation="4" Square="true" Class="pa-4">
                        <MudText Typo="Typo.h6">Como Funciona</MudText>
                        <MudText Typo="Typo.body2">
                            1. Escolha o curso ou disciplina desejada. <br/>
                            2. Selecione a turma que melhor se adequa à sua agenda. <br/>
                            3. Finalize sua matrícula e aproveite o semestre!
                        </MudText>

                        <MudButton
                            Variant="Variant.Filled"
                            Color="Color.Primary"
                            Class="mt-4"
                            FullWidth="true"
                            @onclick="OnComeceAgoraClicked">
                            Comece Agora
                        </MudButton>

                        <MudChip T="string">@state</MudChip>
                    </MudPaper>
                </MudItem>
            </MudGrid>

            <MudGrid Class="mt-4">
                <MudItem xs="12" sm="6">
                    <MudPaper Elevation="4" Square="true" Class="pa-4">
                        <MudText Typo="Typo.h6" Align="Align.Center">Cursos Disponíveis</MudText>
                        <MudText Typo="Typo.body2" Align="Align.Center" Class="mt-2">
                            Confira as promoções e descontos exclusivos para matrícula em disciplinas de última hora.
                        </MudText>
                        <MudButton
                            Color="Color.Secondary"
                            Variant="Variant.Filled"
                            Class="mt-4"
                            @onclick="OnVerOfertasClicked"
                            FullWidth="true">
                            Ver Ofertas
                        </MudButton>
                    </MudPaper>
                </MudItem>

                <MudItem xs="12" sm="6">
                    <MudPaper Elevation="4" Square="true" Class="pa-4">
                        <MudText Typo="Typo.h6" Align="Align.Center">Sobre nós</MudText>
                        <MudText Typo="Typo.body2" Align="Align.Center" Class="mt-2">
                            Somos uma plataforma confiável e segura para realizar matrículas e gerenciar sua vida acadêmica.
                        </MudText>

                        <MudButton
                            Href="/Admin/Sobre"
                            Color="Color.Info"
                            Variant="Variant.Filled"
                            Class="mt-4"
                            FullWidth="true">
                            Saiba mais
                        </MudButton>
                    </MudPaper>
                </MudItem>
            </MudGrid>
        </MudContainer>
    </MudMainContent>

    <MudFooter Elevation="4" Class="pa-4">
        <MudText Typo="Typo.body2" Align="Align.Center">© 2025 Sistema de Gestão Academica. Todos os direitos reservados.</MudText>
    </MudFooter>
</MudLayout>

@code {
    [Inject] private IDialogService DialogService { get; set; }
    private string state = "Clique no botão!";

    private async Task OnComeceAgoraClicked()
    {
        bool? result = await DialogService.ShowMessageBox(
            "Atenção", 
            "Deletar não pode ser desfeito!", 
            yesText: "Sim", noText: "Não", cancelText: "Cancelar");

        state = result == null ? "Cancelado" : "Deletado!";
        StateHasChanged();
    }

    private void OnVerOfertasClicked()
    {
        Snackbar.Add("Deseja saber mais sobre o aplicativo? Clique em Saiba mais!", Severity.Success);
    }

    private void NavigateToLogin()
    {
        Navigation.NavigateTo("/Admin/Login");
    }

    private void NavigateToAbout()
    {
        Navigation.NavigateTo("/Admin/Sobre");
    }
}


