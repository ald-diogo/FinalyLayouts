@page "/Admin/ListaEstudantes"
@using MudBlazor

<PageTitle>Lista de Estudantes</PageTitle>

<MudText Typo="Typo.h4" Align="Align.Center" Color="Color.Primary">Lista de Estudantes</MudText>

<MudButton
    Href="/CadastroEst"
    Variant="Variant.Filled"
    StartIcon="@Icons.Material.Filled.PersonAdd"
    Color="Color.Success"
    Class="novo-estudante-btn">
    Novo Estudante
</MudButton>

<MudContainer Class="container-com-espaco">
    <MudTable Items="Estudantes" Hover="true">
        <HeaderContent>
            <MudTh>Nome</MudTh>
            <MudTh>Gênero</MudTh>
            <MudTh>Data de Nascimento</MudTh>
            <MudTh>Curso</MudTh>
            <MudTh>Ações</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Nome">@context.Nome</MudTd>
            <MudTd DataLabel="Gênero">@context.Genero</MudTd>
            <MudTd DataLabel="Data de Nascimento">@context.DataNascimento.ToString("dd/MM/yyyy")</MudTd>
            <MudTd DataLabel="Curso">@context.Curso</MudTd>
            <MudTd DataLabel="Ações">
                <MudButton Color="Color.Primary" OnClick="() => EditarEstudante(context)">
                    <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Primary" />
                </MudButton>
                <MudButton Color="Color.Error" OnClick="() => ExcluirEstudante(context)">
                    <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Error" />
                </MudButton>
            </MudTd>
        </RowTemplate>
    </MudTable>
</MudContainer>

<style>
    .novo-estudante-btn {
        margin-bottom: 20px; /* Ajuste o valor conforme necessário */
        margin-left: 20px;
    }

    .container-com-espaco {
        margin-top: 20px; /* Ajuste o valor conforme necessário */
    }
</style>

@code {
    private List<Estudante> Estudantes = new List<Estudante>();

    private void EditarEstudante(Estudante estudante)
    {
        // Implementação para editar estudante
        // Pode navegar para uma página de edição ou abrir um dialogo de edição
    }

    private void ExcluirEstudante(Estudante estudante)
    {
        Estudantes.Remove(estudante);
    }
}