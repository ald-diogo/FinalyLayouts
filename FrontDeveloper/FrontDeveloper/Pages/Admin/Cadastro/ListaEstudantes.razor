@page "/Admin/ListaEstudantes"
@using MudBlazor
@inject NavigationManager Navigation

<PageTitle>Lista de Estudantes</PageTitle>

<MudText Typo="Typo.h4" Align="Align.Center" Color="Color.Primary">Lista de Estudantes</MudText>

<MudButton
    Href="/CadastroEst"
    Variant="Variant.Filled"
    StartIcon="@Icons.Material.Filled.PersonAdd"
    Color="Color.Success"
    Class="novo-estudante-btn">
    Novo Estudante
</MudButton>

<MudContainer Class="container-com-espaco">
    <MudTable Items="estudantes" Hover="true" Bordered="true" Striped="true">
        <HeaderContent>
            <MudTh>Nome</MudTh>
            <MudTh>Gênero</MudTh>
            <MudTh>Data de Nascimento</MudTh>
            <MudTh>Período</MudTh>
            <MudTh>Curso</MudTh>
            <MudTh>Ano Lectivo</MudTh>
            <MudTh>Classe</MudTh>
            <MudTh>Turma</MudTh>
            <MudTh>Sala</MudTh>
            <MudTh>Telefone</MudTh>
            <MudTh>Morada</MudTh>
            <MudTh>Email</MudTh>
            <MudTh>Acções</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Nome">@context.Nome</MudTd>
            <MudTd DataLabel="Gênero">@context.Genero</MudTd>
            <MudTd DataLabel="Data de Nascimento">@context.Genero</MudTd>
            <MudTd DataLabel="Período">@context.Periodo</MudTd>
            <MudTd DataLabel="Curso">@context.Curso</MudTd>
            <MudTd DataLabel="Ano Lectivo">@context.AnoLectivo</MudTd>
            <MudTd DataLabel="Classe">@context.Classe</MudTd>
            <MudTd DataLabel="Turma">@context.Turma</MudTd>
            <MudTd DataLabel="Sala">@context.Sala</MudTd>
            <MudTd DataLabel="Telefone">@context.Telefone</MudTd>
            <MudTd DataLabel="Morada">@context.Morada</MudTd>
            <MudTd DataLabel="Email">@context.Email</MudTd>
            <MudTd DataLabel="Ações">
                <MudButton 
                    Color="Color.Primary" 
                    Variant="Variant.Filled"
                    OnClick="@(() => EditarEstudante(context))">
                    <MudIcon Icon="@Icons.Material.Filled.Edit" />
                </MudButton>
                
                <MudButton 
                    Color="Color.Error" 
                    Variant="Variant.Filled" 
                    OnClick="@(() => ExcluirEstudante(context))">
                    <MudIcon Icon="@Icons.Material.Filled.Delete" />
                </MudButton>
            </MudTd>
        </RowTemplate>
    </MudTable>
</MudContainer>

<style>
    .novo-estudante-btn {
        margin-bottom: 20px; /* Ajuste o valor conforme necessário */
        margin-left: 20px;
    }

    .container-com-espaco {
        margin-top: 20px; /* Ajuste o valor conforme necessário */
    }
</style>



@code {
    private List<Estudante> estudantes = new List<Estudante>();

    protected override void OnInitialized()
    {
        // Dados simulados. Aqui você pode buscar os dados de um banco de dados ou API
        estudantes = new List<Estudante>
        {
            new Estudante { Nome = "João Silva", Genero = "Masculino", Periodo = "Manhã", Curso = "Ciência da Computação", AnoLectivo = "2025", Classe = "1ª", Turma = "A", Sala = "101", Telefone = "912345678", Morada = "Rua A", Email = "joao@example.com" },
            new Estudante { Nome = "Maria Costa", Genero = "Feminino", Periodo = "Tarde", Curso = "Engenharia", AnoLectivo = "2025", Classe = "2ª", Turma = "B", Sala = "102", Telefone = "913456789", Morada = "Rua B", Email = "maria@example.com" }
        };
    }

    private void EditarEstudante(Estudante estudante)
    {
        // Lógica para editar o estudante (geralmente redirecionar para uma página de edição)
        Navigation.NavigateTo("/CadastroEst");
    }

    private void ExcluirEstudante(Estudante estudante)
    {
        // Lógica para excluir o estudante
        estudantes.Remove(estudante);
    }

    public class Estudante
    {
        public string Nome { get; set; }
        public string Genero { get; set; }
        public string Periodo { get; set; }
        public string Curso { get; set; }
        public string AnoLectivo { get; set; }
        public string Classe { get; set; }
        public string Turma { get; set; }
        public string Sala { get; set; }
        public string Telefone { get; set; }
        public string Morada { get; set; }
        public string Email { get; set; }
    }
}